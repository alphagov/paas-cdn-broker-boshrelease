#!/usr/bin/env bash

#
# CDN Broker properties
#

# Directory to store the CDN Broker configuration files
export CDN_BROKER_CONF_DIR=${JOB_DIR}/config

# Directory to store the CDN Broker log files
export CDN_BROKER_LOG_DIR=${LOG_DIR}

# Directory to store the CDN Broker process IDs
export CDN_BROKER_PID_DIR=${RUN_DIR}

# Directory to store the CDN Broker data files
export CDN_BROKER_STORE_DIR=${STORE_DIR}

# Directory to store the CDN Broker temp files
export CDN_BROKER_TMP_DIR=${TMP_DIR}

# These properties are duplicated in the cdn-cron job
export CDN_PORT="<%= p('cdn-broker.port') %>"
export CDN_BROKER_USERNAME="<%= p('cdn-broker.broker_username') %>"
export CDN_BROKER_PASSWORD="<%= p('cdn-broker.broker_password') %>"
export CDN_DATABASE_URL="<%= p('cdn-broker.database_url') %>"
export CDN_DATABASE_CONN_MAX_LIFETIME="<%= p('cdn-broker.database_conn_max_lifetime') %>"
export CDN_DATABASE_MAX_IDLE_CONNS="<%= p('cdn-broker.database_max_idle_conns') %>"
export CDN_EMAIL="<%= p('cdn-broker.email') %>"
export CDN_ACME_URL="<%= p('cdn-broker.acme_url') %>"
export CDN_BUCKET="<%= p('cdn-broker.bucket') %>"
export CDN_IAM_PATH_PREFIX="<%= p('cdn-broker.iam_path_prefix') %>"
export CDN_CLOUDFRONT_PREFIX="<%= p('cdn-broker.cloudfront_prefix') %>"
export CDN_AWS_ACCESS_KEY_ID="<%= p('cdn-broker.aws_access_key_id') %>"
export CDN_AWS_SECRET_ACCESS_KEY="<%= p('cdn-broker.aws_secret_access_key') %>"
export CDN_AWS_DEFAULT_REGION="<%= p('cdn-broker.aws_region') %>"
export CDN_SERVER_SIDE_ENCRYPTION="<%= p('cdn-broker.server_side_encryption') %>"
export CDN_API_ADDRESS="<%= p('cdn-broker.api_address') %>"
export CDN_CLIENT_ID="<%= p('cdn-broker.client_id') %>"
export CDN_CLIENT_SECRET="<%= p('cdn-broker.client_secret') %>"
export CDN_DEFAULT_ORIGIN="<%= p('cdn-broker.default_origin') %>"
export CDN_SCHEDULE="<%= p('cdn-broker.schedule') %>"
